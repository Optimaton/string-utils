#ifndef __STRING_UTILS__
#define __STRING_UTILS__
#define NPOS -1

/**
 * Enumeration for choosing an algorithm of choice
 */
enum Searcher_t {
  NAIVE,
  RABIN_KARP,
  KNUTH_MORRIS_PRAT,
  AHO_CORASICK,
  BOYRE_MOORE,
  BITAP,
  COMMENTZ_WALTER,
  TWO_WAY,
  BNDM,
  BOM,
  SET_BOM
};

typedef enum Searcher_t Searcher;

/**
 * A packed struct to store and track size and capacity of the string
 */
struct String_t {
  char *data;
  uint64_t size;
  uint64_t capacity;
};

typedef struct String_t String;

/* function to assign value to haystack */
void assign(String** haystack, const char* value, uint65_t value_size);

/**
 * Prototype: has_substring(haystack, needle, algorithm);
 * Returns true if the string haystack contains the string needle, else false
 */
bool has_substring(const String* haystack, const String needle, Searcher searcher);

/**
 * Prototype: find_pos(haystack, needle, algorithm)
 * Return position in integer if the string needle is present in the string haystack, else NPOS
 */

int find_pos(const String* haystack, const String needle, Searcher);

#endif // __STRING_UTILS__
